<body class="mb-12 bg-gray-50 font-sans">

  <nav class="bg-white/90 backdrop-blur-sm border-b shadow-sm fixed w-full z-50 top-0">
    <div class="container mx-auto px-6 py-3 flex items-center justify-between">
      
      <!-- Brand -->
      <a href="/listings" class="flex items-center gap-2 text-blue-600 font-extrabold text-2xl tracking-tight">
        <i class="fa-solid fa-compass text-3xl"></i>
        <span>WanderStay</span>
      </a>

      <!-- Mobile Menu Button -->
      <button id="menu-btn" class="md:hidden text-gray-700 text-2xl focus:outline-none hover:text-blue-600 transition">
        <i class="fa-solid fa-bars"></i>
      </button>

      <!-- Menu -->
      <div id="menu" class="hidden md:flex md:items-center md:gap-8 text-gray-600 font-medium text-lg">
         
        <ul class="flex flex-col md:flex-row items-center gap-4 md:gap-8 text-center md:text-left">
          <li class="w-full md:w-auto">
            <!-- Search Form -->
            <form action="/listings/search" method="GET" class="w-full md:w-72">
              <div class="flex items-center bg-gray-50 rounded-full shadow-sm border border-gray-200 overflow-hidden">
                <!-- Search Icon -->
                <span class="pl-3 text-gray-400">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M21 21l-4.35-4.35M11 19a8 8 0 100-16 8 8 0 000 16z" />
                  </svg>
                </span>

                <!-- Input -->
                <input 
                  type="text" 
                  name="query" 
                  placeholder="Search listings..."
                  class="w-full px-3 py-2 text-sm focus:outline-none bg-gray-50"
                  value="<%= typeof query !== 'undefined' ? query : '' %>"
                />

                <!-- Button -->
                <button 
                  type="submit"
                  class="bg-blue-600 text-white px-4 py-2 text-sm hover:bg-blue-700 transition">
                  Go
                </button>
              </div>
            </form>
          </li>

          <!-- Links -->
          <li>
            <a href="/listings" class="relative hover:text-blue-600 transition group">
              Explore
              <span class="absolute left-0 -bottom-1 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all"></span>
            </a>
          </li>
          <li>
            <a href="/listings/new" class="relative hover:text-blue-600 transition group">
              List your Home
              <span class="absolute left-0 -bottom-1 w-0 h-0.5 bg-blue-600 group-hover:w-full transition-all"></span>
            </a>
          </li>
        </ul>

        <!-- Auth Buttons -->
        <div class="flex flex-col md:flex-row gap-3 items-center mt-4 md:mt-0">
          <a href="/login" 
             class="bg-blue-600 text-white px-6 py-2 rounded-full font-semibold shadow hover:bg-blue-700 hover:shadow-md active:scale-95 transition">
            Log In
          </a>
          <a href="/logout" 
             class="bg-red-600 text-white px-6 py-2 rounded-full font-semibold shadow hover:bg-red-700 hover:shadow-md active:scale-95 transition">
            Log Out
          </a>
        </div>
      </div>
    </div>
  </nav>

  <script>
    const menuBtn = document.getElementById('menu-btn');
    const menu = document.getElementById('menu');

    menuBtn.addEventListener('click', () => {
      menu.classList.toggle('hidden');
      menu.classList.toggle('flex');
      menu.classList.toggle('flex-col');
      menu.classList.toggle('absolute');
      menu.classList.toggle('bg-white');
      menu.classList.toggle('top-16');
      menu.classList.toggle('left-0');
      menu.classList.toggle('w-full');
      menu.classList.toggle('p-6');
      menu.classList.toggle('shadow-md');
      menu.classList.toggle('animate-fadeIn');
    });
  </script>

  <style>
    .animate-fadeIn {
      animation: fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>

</body>
